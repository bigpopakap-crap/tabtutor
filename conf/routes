# --------------------------------------------------------------------- #
#  ROUTING DEFINITIONS
#
# - page routes can be any path, except for reserved ones below
# - /internal/* is reserved for developer or admin pages
# - /internal/admin/* is reserved for pages that will be available, even in production
# - /internal/devtools/* is reserved for pages that will not be available in production
# - /internal/test/* is reserver for pages that will only be accessible by tests
# - /api/* is reserved for API calls. Everything should utilize these to do the actual work
# - /public/* is reserved for static files and resources
# --------------------------------------------------------------------- #

# --------------------------------------------------------------------- #
#	HIGHEST PRIORITY PAGES												#
# --------------------------------------------------------------------- #
#Specific page-not-found page
GET		/notfound					controllers.SimpleWebController.pageNotFound(path ?= null)

#Remove trailing slashes
GET		/*path/						controllers.SimpleWebController.untrail(path)

# --------------------------------------------------------------------- #
#	BEGIN PAGE ROUTING													#
# --------------------------------------------------------------------- #
GET     /                           controllers.SimpleWebController.landing()
GET		/fblogin					controllers.AuthWebController.fblogin(code ?= null, state ?= null, targetUrl ?= "/")
GET		/logout						controllers.AuthWebController.logout(targetUrl ?= "/")

GET		/songs						controllers.SongsWebController.list()
GET		/songs/:pk/:title			controllers.SongsWebController.detail(pk, title)
#order is important between the line above and line below
GET		/songs/:pk					controllers.SongsWebController.detail(pk, title ?= null)
POST	/songs/create				controllers.SongsWebController.create()

GET		/artists					controllers.ArtistsWebController.list()
GET		/artists/:pk/:name			controllers.ArtistsWebController.detail(pk, name)
#order is important between the line above and line below
GET		/artists/:pk				controllers.ArtistsWebController.detail(pk, name ?= null)
POST	/artists/create				controllers.ArtistsWebController.create()

GET		/albums						controllers.AlbumsWebController.list()
GET		/albums/:pk/:title			controllers.AlbumsWebController.detail(pk, title)
#order is important between the line above and line below
GET		/albums/:pk					controllers.AlbumsWebController.detail(pk, title ?= null)
POST	/albums/create				controllers.AlbumsWebController.create()

# --------------------------------------------------------------------- #
#	BEGIN /INTERNAL/ADMIN PAGE ROUTING									#
# --------------------------------------------------------------------- #
# TODO these will be implemented as and when we find a need

# --------------------------------------------------------------------- #
#	BEGIN /INTERNAL/DEVTOOLS PAGE ROUTING								#
# --------------------------------------------------------------------- #
GET		/internal/devtools							controllers.DevtoolsWebController.directory()
GET		/internal/devtools/killserver				controllers.DevtoolsWebController.killServer()
GET		/internal/devtools/login/listusers			controllers.DevtoolsLoginWebController.listUsers()
POST	/internal/devtools/login/create				controllers.DevtoolsLoginWebController.create()
GET		/internal/devtools/login/login/:pk			controllers.DevtoolsLoginWebController.login(pk, targetUrl ?= "/")

# --------------------------------------------------------------------- #
#	BEGIN /INTERNAL/TEST PAGE ROUTING									#
# --------------------------------------------------------------------- #
GET		/internal/test/runtimeexception								controllers.TestWebController.runtimeException()
GET		/internal/test/errorpageexception/internalservererrorpage	controllers.TestErrorPageExceptionWebController.internalServerErrorPage()
GET		/internal/test/errorpageexception/notfoundpage				controllers.TestErrorPageExceptionWebController.notFoundPage()
GET		/internal/test/errorpageexception/gobackpage				controllers.TestErrorPageExceptionWebController.goBackPage()
GET		/internal/test/errorpageexception/gotopage					controllers.TestErrorPageExceptionWebController.goToPage()
GET		/internal/test/errorpageexception/gohomepage				controllers.TestErrorPageExceptionWebController.goHomePage()
GET		/internal/test/actions/sessionaction						controllers.TestActionsWebController.sessionAction()
GET		/internal/test/actions/authaction							controllers.TestActionsWebController.authAction()

# --------------------------------------------------------------------- #
#	BEGIN /API ROUTING													#
# --------------------------------------------------------------------- #
# TODO this will be implemented later

# --------------------------------------------------------------------- #
#	BEGIN STATIC FILE ROUTING											#
# --------------------------------------------------------------------- #
GET		/favicon.ico				controllers.Assets.at(path="/public", file="images/favicon.png")
GET     /public/*file               controllers.Assets.at(path="/public", file)

# --------------------------------------------------------------------- #
#	CATCH-ALL NOT FOUND PAGE											#
# --------------------------------------------------------------------- #
GET		/*path						controllers.SimpleWebController.pageNotFound(path)
